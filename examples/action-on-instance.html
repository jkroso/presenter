<!doctype html>
<html>
<head>
  <title>action on instance</title>
<style>
  body {
    padding: 60px;
  }
  .car {
    width:50px;
    height: 30px;
    top:100px;
    left:100px;
    border-radius: 5px;
    background: blue;
    position: absolute;
    outline: none;
  }
</style>
</head>
<body>
<script>
  var Presenter = require('..').Presenter
  var car = new Presenter('<div tabIndex="1" class="car"></div>')

  var arrows = {
    37: 'left',
    38: 'up',
    39: 'right',
    40: 'down'
  }

  function dispatch(e, subject){
    this.dispatch(arrows[e.which], subject)
  }

  car.action('keydown', dispatch)
    .on('down', function(subj){
      var el = subj.view
      el.style.top = el.offsetTop + 15 + 'px'
    })
    .on('up', function(subj){
      var el = subj.view
      el.style.top = el.offsetTop - 15 + 'px'
    })
    .on('right', function(subj){
      var el = subj.view
      el.style.left = el.offsetLeft + 15 + 'px'
    })
    .on('left', function(subj){
      var el = subj.view
      el.style.left = el.offsetLeft - 15 + 'px'
    })

  document.body.appendChild(car.view)
  car.view.focus()
</script>
</body>
</html>