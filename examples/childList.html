<!doctype html>
<html>
<head>
  <style>
    body {
      padding: 60px;
    }
    .object {
      padding: 30px;
      border:1px solid #ccc;
      border-radius: 3px;
    }
    .attr {
      padding: 5px;
    }
  </style>
</head>
<body>
  <script src="presenter.js"></script>
  <script>
    var presenter = require('/')
    var ChildList = presenter.ChildList

    var model = {
      complete: true,
      title: 'task',
      kids: [
        {
          complete: false,
          title: 'task-kid',
          kids:[]
        }
      ]
    }

    var ObjView = presenter('<div class="object"></div>')

    ObjView.prototype.init = function(model){
      this.attrs = new ChildList(this.view, this)
      for (var prop in model) {
        this.attrs.append(new Attr(prop))
      }
      model.kids.forEach(function (kid) {
        this.kids.append(new ObjView(kid))
      }, this)
    }

    var Attr = presenter(function(prop){
      return '<div class="attr">'+prop+'</div>'
    })

    document.body.appendChild(new ObjView(model).view)
  </script>
</body>
</html>