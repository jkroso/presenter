<!doctype html>
<html>
<head>
<style>
  body {
    padding: 60px;
  }
  .car {
    width:50px;
    height: 30px;
    top:100px;
    left:100px;
    border-radius: 5px;
    background: blue;
    position: absolute;
    outline: none;
  }
</style>
</head>
<body>
<script src="presenter.js"></script>
<script>
  var presenter = require('/')
  var Car = presenter('Car', '<div tabIndex="1" class="car"></div>')
  
  var arrows = {
    37: 'left',
    38: 'up',
    39: 'right',
    40: 'down'
  }

  Car.action(function keydown(e, subject){
      this.dispatch(arrows[e.which], subject)
    })
    .on(function down(subj){
      var el = subj.view
      el.style.top = el.offsetTop + 15 + 'px'
    })
    .on(function up(subj){
      var el = subj.view
      el.style.top = el.offsetTop - 15 + 'px'
    })
    .on(function right(subj){
      var el = subj.view
      el.style.left = el.offsetLeft + 15 + 'px'
    })
    .on(function left(subj){
      var el = subj.view
      el.style.left = el.offsetLeft - 15 + 'px'
    })

  var car = new Car
  document.body.appendChild(car.view)
  car.view.focus()
</script>
</body>
</html>